(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["login"],{"0b2b":function(e,t,a){"use strict";var r=a("919e"),s=a.n(r);s.a},"3bea":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"root"},[a("router-link",{attrs:{to:"/"}},[a("h1",{staticClass:"logo"},[e._v("Nom du site")])]),a("h2",{staticClass:"title"},[e._v("Login to Nomdusite")]),a("form",{attrs:{novalidate:"true"},on:{submit:function(e){e.preventDefault()}}},[e.errorMessage?a("p",{staticClass:"error"},[e._v(e._s(e.errorMessage))]):e._e(),a("div",{staticClass:"input"},[a("label",{attrs:{for:"email"}},[e._v("Email adress")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"},{name:"focus",rawName:"v-focus"}],staticClass:"input-text",attrs:{type:"email",name:"email",id:"email",autocomplete:"email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),a("div",{staticClass:"input"},[a("label",{attrs:{for:"password"}},[e._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input-text",attrs:{type:"password",name:"password",id:"password",autocomplete:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),a("button",{staticClass:"button-primary button_login",on:{click:e.login}},[e._v("Log in")])]),a("h3",{staticClass:"text"},[e._v("Don't have an account ?")]),a("router-link",{attrs:{to:"register"}},[a("button",{staticClass:"button-secondary button_register"},[e._v("Create Account")])]),a("a",{staticClass:"google-oauth",attrs:{href:"http://localhost:8081/api/auth/google/login"}},[e._v(" Login with google ")])],1)},s=[],o=(a("96cf"),a("1da1")),n=a("b012"),i=a("bc3a"),u=a.n(i),l={name:"LoginView",data:function(){return{email:"",password:"",errorMessage:""}},methods:{login:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.email){t.next=3;break}return t.abrupt("return",e.errorMessage="Email required");case 3:if(e.password){t.next=5;break}return t.abrupt("return",e.errorMessage="Password required");case 5:return e.errorMessage="",t.next=8,n["a"].login(e.email,e.password);case 8:n["a"].logged(),e.$router.push("/").catch((function(e){return console.log(e)})),t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),e.errorMessage="Invalid username or password";case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},loginGoogle:function(){return Object(o["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("http://localhost:8081/api/auth/google/login",{});case 3:t=e.sent,console.log(t),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}},directives:{focus:{inserted:function(e){e.focus()}}}},c=l,p=(a("0b2b"),a("2877")),d=Object(p["a"])(c,r,s,!1,null,"65aee63c",null);t["default"]=d.exports},"919e":function(e,t,a){}}]);
//# sourceMappingURL=login.8475f251.js.map